"use strict";(self.webpackChunkweather=self.webpackChunkweather||[]).push([[586],{586:(e,s,t)=>{t.r(s),t.d(s,{default:()=>w});var i=t(43),a=t(334),d=t(213);const r=t.p+"static/media/logo.f5db5b60cfda72ea19cf8305c38e2aac.svg";var c=t(579);const l=e=>{let{isOpen:s}=e;return(0,c.jsx)("header",{className:s?"header header_loaded":"header",children:(0,c.jsx)("a",{href:"https://github.com/sh0rk1n/weather",target:"_blank",rel:"noreferrer",children:(0,c.jsx)("img",{src:r,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})})})};const n=t.p+"static/media/heart.a526dc5038e130890b02995090581b7b.svg",_=e=>{let{isOpen:s}=e;return(0,c.jsxs)("footer",{className:s?"footer footer_loaded":"footer",children:[(0,c.jsx)("p",{className:"footer__text",children:"Made with"}),(0,c.jsx)("img",{src:n,alt:"\u0441\u0435\u0440\u0434\u0446\u0435"}),(0,c.jsxs)("p",{className:"footer__text",children:["by",(0,c.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.github.com/sh0rk1n",className:"footer__link",children:"Sh0rk1n"})]})]})};var h=t(304);var o=t(3);const m=o.d4,g=e=>{let{isOpen:s,city:t,date:i}=e;const{temp:a,descr:d,tempFeels:r,visibility:l,windSpeed:n,humidity:_}=m((e=>e.main)),h=[{title:"\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c",specific:`${l} \u043a\u043c`},{title:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f",specific:r/10+"\xb0"},{title:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c",specific:`${_} %`},{title:"\u0412\u0435\u0442\u0435\u0440",specific:`${n} \u043c/\u0441`}];return(0,c.jsx)("main",{className:"container main",children:(0,c.jsxs)("div",{className:"widget",children:[s?"":(0,c.jsx)("div",{className:"widget__img widget__img_rain_day widget__img_loader"}),(0,c.jsxs)("div",{className:s?"widget__heading":"widget__heading widget__heading_over",children:[(0,c.jsx)("div",{className:"widget__img widget__img_cloudy_day"}),(0,c.jsxs)("div",{className:"widget__info",children:[(0,c.jsx)("h1",{className:"widget__city",children:t}),(0,c.jsx)("p",{className:"widget__date",children:i})]})]}),(0,c.jsxs)("div",{className:"widget__main",children:[(0,c.jsx)("div",{className:s?"widget__temp":"widget__temp widget__temp_over",children:Math.round(a/10)}),(0,c.jsx)("div",{className:s?"widget__descr":"widget__descr widget__descr_over",children:d})]}),(0,c.jsx)("ul",{className:s?"widget__stats":"widget__stats widget__stats_over",children:h.map(((e,s)=>(0,c.jsxs)("li",{className:"widget__stats-item",children:[(0,c.jsx)("div",{className:"widget__stats-text",children:e.title}),(0,c.jsx)("div",{className:"widget__stats-range",children:e.specific})]},s)))})]})})},w=()=>{const e=(0,i.useContext)(a.v),s=(0,o.wA)(),{isOpen:t}=m((e=>e.main)),r=(new Date).toLocaleDateString(),n=e.city;return(0,i.useEffect)((()=>{(async()=>{try{const e=await d.A.get(`https://api.openweathermap.org/data/2.5/weather?q=${n}&appid=ab379417fd48de69e0199e3ce58b1a28`),{main:t,weather:i,visibility:a,wind:r}=e.data;s((0,h.ts)(t.temp)),s((0,h.e0)(i[0].description)),s((0,h.bo)(a/1e3)),s((0,h._p)(Math.floor(t.feels_like))),s((0,h.M3)(r.speed)),s((0,h.ez)(t.humidity))}catch(e){console.error(e)}})(),s((0,h.Z9)(!0))}),[n]),(0,c.jsxs)("div",{className:"page",children:[(0,c.jsx)(l,{isOpen:t}),(0,c.jsx)(g,{isOpen:t,city:n,date:r}),(0,c.jsx)(_,{isOpen:t})]})}}}]);
//# sourceMappingURL=586.eee8f32b.chunk.js.map